process PROD  =
{

   untracked PSet maxEvents = {untracked int32 input = 10}

   service = Timing{}     

   service = SimpleMemoryCheck{
             untracked int32 ignoreTotal = 1 
             untracked bool oncePerEventMode = true
   }
  
   include "FWCore/MessageLogger/data/MessageLogger.cfi" 
   include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
   include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"
############################################################
   source = FlatRandomEGunSource { 
		untracked PSet PGunParameters = {
			untracked vint32 PartID = {2212,2112} 
			untracked double MinEta = 10.2
			untracked double MaxEta = 10.5
			untracked double MinPhi = -3.14
			untracked double MaxPhi = 3.14
			untracked double MinE   = 6930.
			untracked double MaxE   = 6990.
		}
		untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }
############################################################
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"


   include "SimTransport/HectorProducer/data/HectorTransport.cfi"
# WARNING: in use of next line and changing Gun parameters you can have a case when no particles for G4 simulation are available: if proton was not transported and neutron is rejected too; it leads to error message: exception occurred during a call to the module OscarProducer/g4SimHits and cannot be repropagated
  replace LHCTransport.ZDCTransport = false
#  replace LHCTransport.Verbosity = true

# initialize the geometry and the magnetic field including the forward part

   include "Geometry/CMSCommonData/data/cmsAllGeometryXML.cfi"
   include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"   
   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi" 

       include "SimG4Core/Application/data/g4SimHits.cfi"

###############################################   
          replace g4SimHits.Generator.ApplyPtCuts =  false
          replace g4SimHits.Generator.ApplyPhiCuts =  true
          replace g4SimHits.Generator.ApplyEtaCuts =  false
          replace g4SimHits.Generator.HepMCProductLabel = "LHCTransport"
###############################################   

   module o1 = PoolOutputModule { untracked string fileName = "hector_gamma.root" }

   path p1 = { VtxSmeared, LHCTransport, g4SimHits }

   endpath outpath = { o1 }

}
